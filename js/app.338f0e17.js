(function(e){function t(t){for(var n,a,o=t[0],s=t[1],u=t[2],b=0,d=[];b<o.length;b++)a=o[b],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),c()}function c(){for(var e,t=0;t<i.length;t++){for(var c=i[t],n=!0,o=1;o<c.length;o++){var s=c[o];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=c[0]))}return e}var n={},r={app:0},i=[];function a(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=n,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(c,n,function(t){return e[t]}.bind(null,n));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue3-crypto/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;i.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"05dc":function(e,t,c){},"07b1":function(e,t,c){},1189:function(e,t,c){"use strict";c("f236")},"3eaf":function(e,t,c){"use strict";c("ece5")},"49bd":function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23"),r={class:"container"},i={key:0},a={key:1};function o(e,t,c,o,s,u){var l=Object(n["r"])("svg-sprite"),b=Object(n["r"])("add-ticker"),d=Object(n["r"])("list-tickers"),p=Object(n["r"])("graph-for-ticker");return Object(n["m"])(),Object(n["e"])(n["a"],null,[Object(n["i"])(l),Object(n["f"])("div",r,[Object(n["i"])(b),u.isEmpty?(Object(n["m"])(),Object(n["e"])("hr",i)):Object(n["d"])("",!0),Object(n["i"])(d),u.isEmpty?(Object(n["m"])(),Object(n["e"])("hr",a)):Object(n["d"])("",!0),e.selectedTicker?(Object(n["m"])(),Object(n["c"])(p,{key:2})):Object(n["d"])("",!0)])],64)}var s=c("5530"),u=c("5502");Object(n["o"])("data-v-4bb2605b");var l={class:"addTicker"};function b(e,t,c,r,i,a){var o=Object(n["r"])("app-input"),s=Object(n["r"])("app-button");return Object(n["m"])(),Object(n["e"])("div",l,[Object(n["i"])(o,{name:"ticker",placeholder:"Например DOGE",label:"Тикер",value:e.tickerName,onChange:a.setTickerName,onEnter:a.add},null,8,["value","onChange","onEnter"]),Object(n["i"])(s,{type:"primary",icon:"add",text:"Добавить",onClick:a.add},null,8,["onClick"])])}Object(n["n"])();var d=c("1da1");c("7db0"),c("b0c0"),c("96cf");function p(e,t,c,r,i,a){var o=Object(n["r"])("app-icon");return Object(n["m"])(),Object(n["e"])("button",{class:Object(n["k"])(a.classes),onClickCapture:t[0]||(t[0]=Object(n["v"])((function(t){return e.$emit("click")}),["stop"]))},[Object(n["i"])(o,{id:c.icon},null,8,["id"]),Object(n["h"])(" "+Object(n["s"])(c.text),1)],34)}c("99af");Object(n["o"])("data-v-e3c1a0d6");var f={class:"icon"},O=["xlink:href"];function m(e,t,c,r,i,a){return Object(n["m"])(),Object(n["e"])("div",f,[(Object(n["m"])(),Object(n["e"])("svg",{class:Object(n["k"])(c.id),width:"20",height:"20"},[Object(n["f"])("use",{"xlink:href":"#".concat(c.id)},null,8,O)],2))])}Object(n["n"])();var k={name:"AppIcon",props:{id:String}};c("7c95");k.render=m,k.__scopeId="data-v-e3c1a0d6";var j=k,v={name:"AppButton",props:{type:String,icon:String,text:String},components:{AppIcon:j},computed:{classes:function(){return"button button--".concat(this.type," button--").concat(this.icon)}},emits:{click:null}};c("d1d6");v.render=p;var h=v;Object(n["o"])("data-v-0ca0017d");var g={class:"input-box"},y=["for"],T=["id","name","placeholder","value"];function w(e,t,c,r,i,a){return Object(n["m"])(),Object(n["e"])("div",g,[Object(n["f"])("label",{for:c.name},Object(n["s"])(c.label),9,y),Object(n["f"])("input",{type:"text",id:c.name,name:c.name,placeholder:c.placeholder,value:c.value,onKeyup:[t[0]||(t[0]=function(t){return e.$emit("change",t.target.value)}),t[1]||(t[1]=Object(n["u"])((function(t){return e.$emit("enter")}),["enter"]))]},null,40,T)])}Object(n["n"])();var S={props:{name:String,placeholder:String,value:String,label:String},emits:{change:null,enter:null}};c("602b");S.render=w,S.__scopeId="data-v-0ca0017d";var x=S,_=function(e){return e.toUpperCase()},C={components:{AppButton:h,AppInput:x},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAvailableTickers();case 2:case"end":return t.stop()}}),t)})))()},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(u["e"])("tickers",["tickerName","availableTickers"])),Object(u["c"])("tickers",["tickersNames","tickers"])),{},{isTickerExist:function(){var e=this;return this.tickers.find((function(t){return t.name===e.tickerName}))},isAvailable:function(){var e,t=this;return null===(e=this.availableTickers)||void 0===e?void 0:e.find((function(e){return e===t.tickerName}))}}),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(u["d"])("tickers",["addTicker","updateTickers","changeTickerName"])),Object(u["b"])("tickers",["loadAvailableTickers","subscribeToUpdate"])),{},{setTickerName:function(e){this.changeTickerName(_(e))},add:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.tickerName&&!e.isTickerExist&&e.isAvailable){t.next=3;break}return e.changeTickerName(""),t.abrupt("return");case 3:return e.addTicker({name:e.tickerName,price:"-"}),t.next=6,e.subscribeToUpdate(e.tickerName);case 6:e.changeTickerName("");case 7:case"end":return t.stop()}}),t)})))()}})};c("3eaf");C.render=b,C.__scopeId="data-v-4bb2605b";var N=C;Object(n["o"])("data-v-388687fa");var A={class:"tickers"},M=["onClick"];function R(e,t,c,r,i,a){var o=Object(n["r"])("app-ticker");return Object(n["m"])(),Object(n["e"])("ul",A,[(Object(n["m"])(!0),Object(n["e"])(n["a"],null,Object(n["q"])(e.tickers,(function(t){return Object(n["m"])(),Object(n["e"])("li",{class:Object(n["k"])(["tickers__item",{active:a.isSelected(t.name)}]),key:t,onClick:function(c){return e.setSelectedTicker(t.name)}},[Object(n["i"])(o,{ticker:t,onDelete:a.remove},null,8,["ticker","onDelete"])],10,M)})),128))])}Object(n["n"])(),Object(n["o"])("data-v-fe55931e");var P={class:"ticker"},E={class:"ticker__title"},I={class:"ticker__price"},z={class:"ticker__delete"};function U(e,t,c,r,i,a){var o=Object(n["r"])("app-button");return Object(n["m"])(),Object(n["e"])("div",P,[Object(n["f"])("h2",E,Object(n["s"])(c.ticker.name)+" - USD",1),Object(n["f"])("div",I,Object(n["s"])(a.normalizePrice(c.ticker.price)),1),Object(n["f"])("div",z,[Object(n["i"])(o,{type:"warn",icon:"delete",text:"Удалить",onClick:t[0]||(t[0]=function(t){return e.$emit("delete",c.ticker.name)})})])])}Object(n["n"])();c("b680");var G=function(e){return"-"!==e&&e?e>0?e.toFixed(2):e.toPrecision(2):"-"},L={components:{AppButton:h},props:{ticker:Object},emits:{delete:null},methods:{normalizePrice:function(e){return G(e)}}};c("9412");L.render=U,L.__scopeId="data-v-fe55931e";var B=L,D={components:{AppTicker:B},computed:Object(s["a"])(Object(s["a"])({},Object(u["e"])("tickers",["selectedTicker"])),Object(u["c"])("tickers",["tickers"])),methods:Object(s["a"])(Object(s["a"])({},Object(u["d"])("tickers",["deleteTicker","setSelectedTicker"])),{},{remove:function(e){e===this.selectedTicker&&this.setSelectedTicker(null),this.deleteTicker(e)},isSelected:function(e){return this.selectedTicker===e}})};c("edce");D.render=R,D.__scopeId="data-v-388687fa";var J=D;Object(n["o"])("data-v-530b7cc8");var F={class:"graph"},H={class:"graph-name"},Y={class:"graph-list"},$={class:"graph-close"};function K(e,t,c,r,i,a){var o=Object(n["r"])("app-button");return Object(n["m"])(),Object(n["e"])("div",F,[Object(n["f"])("h2",H,Object(n["s"])(e.selectedTicker)+" - USD",1),Object(n["f"])("ul",Y,[(Object(n["m"])(!0),Object(n["e"])(n["a"],null,Object(n["q"])(a.normalizeGraph(),(function(e,t){return Object(n["m"])(),Object(n["e"])("li",{key:t,class:"graph-item",style:Object(n["l"])({height:"".concat(e,"%")})},null,4)})),128))]),Object(n["f"])("div",$,[Object(n["i"])(o,{type:"primary",icon:"close",onClick:a.closeGraph},null,8,["onClick"])])])}Object(n["n"])();var V=c("2909"),q=(c("d81d"),5),W=20,Q={name:"GraphForTicker",data:function(){return{graph:[]}},components:{AppButton:h},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(u["e"])("tickers",["selectedTicker"])),Object(u["c"])("tickers",["tickers"])),{},{price:function(){var e=this,t=this.tickers.find((function(t){return t.name===e.selectedTicker}));return null===t||void 0===t?void 0:t.price}}),methods:Object(s["a"])(Object(s["a"])({},Object(u["d"])("tickers",["setSelectedTicker"])),{},{closeGraph:function(){this.setSelectedTicker(null),this.graph=[]},normalizeGraph:function(){var e=Math.max.apply(Math,Object(V["a"])(this.graph)),t=Math.min.apply(Math,Object(V["a"])(this.graph)),c=this.graph.map((function(c){return q+(c-t)*(100-q)/(e-t)||q}));return c.length>W&&(c=c.shift()),c}}),watch:{selectedTicker:function(){this.graph=[]},price:function(e){this.graph.push(e)}}};c("6e07");Q.render=K,Q.__scopeId="data-v-530b7cc8";var X=Q,Z={class:"svg-sprite",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ee=Object(n["g"])('<symbol id="add" viewBox="0 0 512 512"><g><path d="M256,0C114.833,0,0,114.833,0,256s114.833,256,256,256s256-114.853,256-256S397.167,0,256,0z M256,472.341\n\t\t\t\t\tc-119.275,0-216.341-97.046-216.341-216.341S136.725,39.659,256,39.659S472.341,136.705,472.341,256S375.295,472.341,256,472.341z\n\t\t\t\t\t"></path></g><g><path d="M355.148,234.386H275.83v-79.318c0-10.946-8.864-19.83-19.83-19.83s-19.83,8.884-19.83,19.83v79.318h-79.318\n\t\t\t\t\tc-10.966,0-19.83,8.884-19.83,19.83s8.864,19.83,19.83,19.83h79.318v79.318c0,10.946,8.864,19.83,19.83,19.83\n\t\t\t\t\ts19.83-8.884,19.83-19.83v-79.318h79.318c10.966,0,19.83-8.884,19.83-19.83S366.114,234.386,355.148,234.386z"></path></g></symbol><symbol id="delete" viewBox="0 0 512 512"><g><polygon points="353.574,176.526 313.496,175.056 304.807,412.34 344.885,413.804"></polygon><rect x="235.948" y="175.791" width="40.104" height="237.285"></rect><polygon points="207.186,412.334 198.497,175.049 158.419,176.52 167.109,413.804"></polygon><path d="M17.379,76.867v40.104h41.789L92.32,493.706C93.229,504.059,101.899,512,112.292,512h286.74\n\t\t\t\tc10.394,0,19.07-7.947,19.972-18.301l33.153-376.728h42.464V76.867H17.379z M380.665,471.896H130.654L99.426,116.971h312.474\n\t\t\t\tL380.665,471.896z"></path></g><g><path d="M321.504,0H190.496c-18.428,0-33.42,14.992-33.42,33.42v63.499h40.104V40.104h117.64v56.815h40.104V33.42\n\t\t\t\tC354.924,14.992,339.932,0,321.504,0z"></path></g></symbol><symbol id="close" viewBox="0 0 512 512"><g><path d="M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048\n\t\t\t\t\tc49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z\n\t\t\t\t\tM361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251\n\t\t\t\t\tl-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251\n\t\t\t\t\tc-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165\n\t\t\t\t\tc8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0\n\t\t\t\t\tc8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z"></path></g></symbol>',3),te=[ee];function ce(e,t,c,r,i,a){return Object(n["m"])(),Object(n["e"])("svg",Z,te)}var ne={name:"SvgSprite"};c("c821");ne.render=ce;var re=ne,ie={components:{AddTicker:N,ListTickers:J,GraphForTicker:X,SvgSprite:re},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(u["e"])("tickers",["selectedTicker"])),Object(u["c"])("tickers",["tickers"])),{},{isEmpty:function(){return this.tickers.length}})};c("1189");ie.render=o;var ae=ie,oe=c("a18c"),se=c.n(oe),ue=(c("4de4"),c("c740"),c("b64b"),c("bc3a")),le=c.n(ue),be=le.a.create({baseURL:"https://min-api.cryptocompare.com/"}),de=c("7dc5"),pe=de.URL_COINS,fe=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be({url:pe,params:{summary:!0}});case 2:return t=e.sent,c=t.data.Data,e.abrupt("return",Object.keys(c)||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=(c("4ec9"),c("d3b7"),c("3ca3"),c("ddb0"),c("159b"),de.API_KEY),me="5",ke=new Map,je=new WebSocket("wss://streamer.cryptocompare.com/v2?api_key=".concat(Oe));function ve(e){var t=JSON.stringify(e);je.readyState!==WebSocket.OPEN?je.addEventListener("open",(function(){return je.send(t)}),{once:!0}):je.send(t)}je.addEventListener("message",(function(e){var t=JSON.parse(e.data),c=t.TYPE,n=t.FROMSYMBOL,r=t.PRICE;if(c===me){var i=ke.get(n)||[];i.forEach((function(e){return e(r)}))}}));var he=function(e,t){var c=ke.get(e)||[];ke.set(e,[].concat(Object(V["a"])(c),[t])),ve({action:"SubAdd",subs:["5~CCCAGG~".concat(e,"~USD")]})},ge=function(e){ve({action:"SubRemove",subs:["5~CCCAGG~".concat(e,"~USD")]})},ye={namespaced:!0,state:{tickerName:"",tickers:[],availableTickers:[],selectedTicker:null},getters:{tickersNames:function(e){var t;return(null===(t=e.tickers)||void 0===t?void 0:t.map((function(e){return e.name})))||[]},tickers:function(e){return e.tickers||[]}},mutations:{changeTickerName:function(e,t){e.tickerName=t},addTicker:function(e,t){e.tickers||(e.tickers=[]),e.tickers=[].concat(Object(V["a"])(e.tickers),[t])},deleteTicker:function(e,t){e.tickers=e.tickers.filter((function(e){return e.name!==t}))},updatePrice:function(e,t){var c=e.tickers.findIndex((function(e){return e.name===t[0]}));e.tickers[c]&&(e.tickers[c].price=t[1])},setSelectedTicker:function(e,t){e.selectedTicker=t},setAvailableTickers:function(e,t){e.availableTickers=t}},actions:{loadAvailableTickers:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=e.commit,t.next=3,fe();case 3:n=t.sent,c("setAvailableTickers",n);case 5:case"end":return t.stop()}}),t)})))()},subscribeToUpdate:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.commit,c.next=3,he(t,(function(e){n("updatePrice",[t,e])}));case 3:case"end":return c.stop()}}),c)})))()},unsubscribeToUpdate:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.commit,c.next=3,ge(t);case 3:n("deleteTicker",t);case 4:case"end":return c.stop()}}),c)})))()}}},Te=Object(u["a"])({modules:{tickers:ye}});Object(n["b"])(ae).use(Te).use(se.a).mount("#app")},"602b":function(e,t,c){"use strict";c("07b1")},6322:function(e,t,c){},"6e07":function(e,t,c){"use strict";c("49bd")},"7c95":function(e,t,c){"use strict";c("b0f7")},"7dc5":function(e){e.exports=JSON.parse('{"API_KEY":"741d904db8c263634a31f52878f49e9d1d5a310a4d8b13f2e66fb1866e70f5dc","URL_COINS":"data/all/coinlist"}')},"8b08":function(e,t,c){},9412:function(e,t,c){"use strict";c("6322")},a18c:function(e,t){},b0f7:function(e,t,c){},bd20:function(e,t,c){},c821:function(e,t,c){"use strict";c("05dc")},d1d6:function(e,t,c){"use strict";c("8b08")},ece5:function(e,t,c){},edce:function(e,t,c){"use strict";c("bd20")},f236:function(e,t,c){}});
//# sourceMappingURL=app.338f0e17.js.map